import{E as v,G as o,H as a,I as b,K as m,M as C,N as _,P as c,a as s,b as r,fa as y,ha as g,i as l,l as p,ma as M,na as O,pa as S,qa as P,t as d,u,w as h,x as f}from"./chunk-YYEMXXJX.js";var I=["*"],k=class i{constructor(e){this.authService=e}isMenuOpen=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||i)(h(P))};static \u0275cmp=f({type:i,selectors:[["app-layout"]],ngContentSelectors:I,decls:23,vars:2,consts:[[1,"layout"],[1,"header"],[1,"container"],[1,"header-content"],[1,"logo"],[1,"nav"],["routerLink","/dashboard","routerLinkActive","active"],["routerLink","/transactions","routerLinkActive","active"],["routerLink","/history","routerLinkActive","active"],[1,"btn","btn-primary",3,"click"],[1,"menu-toggle",3,"click"],[1,"main"]],template:function(t,n){t&1&&(C(),o(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),c(6,"\u{1F3E0} Mis Finanzas"),a()(),o(7,"nav",5)(8,"a",6),c(9,"Dashboard"),a(),o(10,"a",7),c(11,"Transacciones"),a(),o(12,"a",8),c(13,"Historial"),a(),o(14,"button",9),m("click",function(){return n.logout()}),c(15,"Salir"),a()(),o(16,"button",10),m("click",function(){return n.toggleMenu()}),b(17,"span")(18,"span")(19,"span"),a()()()(),o(20,"main",11)(21,"div",2),_(22),a()()()),t&2&&(u(7),v("nav-open",n.isMenuOpen))},dependencies:[y,S,M,O],styles:[".layout[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.header[_ngcontent-%COMP%]{background:#242525;border-bottom:1px solid #e5e7eb;position:sticky;top:0;z-index:100}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:700}.nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#f7faff;font-weight:500;padding:.5rem 1rem;border-radius:.5rem;transition:all .2s ease;font-weight:700}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#eff6ff;color:#2563eb}.menu-toggle[_ngcontent-%COMP%]{display:none;flex-direction:column;background:none;border:none;cursor:pointer;padding:.5rem}.menu-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:2px;width:25px;background:#374151;margin:3px 0;transition:.3s}.main[_ngcontent-%COMP%]{flex:1;padding:2rem 0}@media (max-width: 768px){.menu-toggle[_ngcontent-%COMP%]{display:flex}.nav[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;flex-direction:column;align-items:stretch;gap:0;border-bottom:1px solid #e5e7eb;transform:translateY(-100%);opacity:0;visibility:hidden;transition:all .3s ease}.nav.nav-open[_ngcontent-%COMP%]{transform:translateY(0);opacity:1;visibility:visible}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem;border-radius:0;margin:0}}"]})};var T=class i{constructor(e){this.http=e;this.loadIngresos()}apiUrl="http://localhost:3000/api/ingresos";ingresosSignal=d([]);ingresos=this.ingresosSignal.asReadonly();loadIngresos(){this.http.get(this.apiUrl).subscribe(e=>{let t=e.map(n=>r(s({},n),{date:new Date(n.fecha),id:n._id}));this.ingresosSignal.set(t)})}addIngreso(e){this.http.post(this.apiUrl,e).subscribe(t=>{let n=r(s({},t),{date:new Date(t.fecha),id:t._id});this.ingresosSignal.set([...this.ingresosSignal(),n])})}deleteIngreso(e){this.http.delete(`${this.apiUrl}/${e}`).subscribe(()=>{let t=this.ingresosSignal().filter(n=>n.id!==e);this.ingresosSignal.set(t)})}static \u0275fac=function(t){return new(t||i)(p(g))};static \u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"})};var w=class i{constructor(e){this.http=e;this.loadGastos()}apiUrl="http://localhost:3000/api/gastos";gastosSignal=d([]);gastos=this.gastosSignal.asReadonly();loadGastos(){this.http.get(this.apiUrl).subscribe(e=>{let t=e.map(n=>r(s({},n),{date:new Date(n.fecha),id:n._id}));this.gastosSignal.set(t)})}addGasto(e){this.http.post(this.apiUrl,e).subscribe(t=>{let n=r(s({},t),{date:new Date(t.fecha),id:t._id});this.gastosSignal.set([...this.gastosSignal(),n])})}deleteGasto(e){this.http.delete(`${this.apiUrl}/${e}`).subscribe(()=>{let t=this.gastosSignal().filter(n=>n.id!==e);this.gastosSignal.set(t)})}static \u0275fac=function(t){return new(t||i)(p(g))};static \u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"})};export{k as a,T as b,w as c};
