import{a as w,b as c,c as P,d as S,e as y,g as O,h as F,l as E,m as I}from"./chunk-EIPKDWJL.js";import{B as m,D as l,E as u,G as i,H as n,I as g,K as _,L as d,P as a,Q as f,ba as v,fa as C,la as h,ma as M,pa as x,qa as R,u as o,w as p,x as b}from"./chunk-YYEMXXJX.js";function D(t,s){t&1&&(i(0,"span"),a(1,"El correo es requerido"),n())}function T(t,s){t&1&&(i(0,"span"),a(1,"Ingresa un correo v\xE1lido"),n())}function N(t,s){if(t&1&&(i(0,"div",14),m(1,D,2,0,"span",15)(2,T,2,0,"span",15),n()),t&2){let r=d();o(),l("ngIf",r.email==null||r.email.errors==null?null:r.email.errors.required),o(),l("ngIf",r.email==null||r.email.errors==null?null:r.email.errors.email)}}function z(t,s){t&1&&(i(0,"span"),a(1,"La contrase\xF1a es requerida"),n())}function q(t,s){t&1&&(i(0,"span"),a(1,"M\xEDnimo 4 caracteres"),n())}function G(t,s){if(t&1&&(i(0,"div",14),m(1,z,2,0,"span",15)(2,q,2,0,"span",15),n()),t&2){let r=d();o(),l("ngIf",r.password==null||r.password.errors==null?null:r.password.errors.required),o(),l("ngIf",r.password==null||r.password.errors==null?null:r.password.errors.minlength)}}function j(t,s){if(t&1&&(i(0,"div",14),a(1),n()),t&2){let r=d();o(),f(r.errorMessage)}}function A(t,s){if(t&1&&(i(0,"div",16),a(1),n()),t&2){let r=d();o(),f(r.successMessage)}}var k=class t{constructor(s,r,e){this.fb=s;this.authService=r;this.router=e;this.registerForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(4)]]})}registerForm;successMessage="";errorMessage="";onSubmit(){if(this.registerForm.valid){let{email:s,password:r}=this.registerForm.value;this.authService.register(s,r).subscribe({next:e=>{this.successMessage=e.message,setTimeout(()=>this.router.navigate(["/login"]),1500)},error:e=>{this.errorMessage=e.error.message||"Error al registrar usuario"}})}else this.errorMessage="Por favor, completa todos los campos correctamente"}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}static \u0275fac=function(r){return new(r||t)(p(E),p(R),p(h))};static \u0275cmp=b({type:t,selectors:[["app-register"]],decls:27,vars:10,consts:[[1,"register-container"],[1,"register-card"],[1,"register-header"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","tu@email.com",1,"form-input"],["class","error-message",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Tu contrase\xF1a",1,"form-input"],["class","success-message",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-full",3,"disabled"],[1,"register-info"],["routerLink","/login",1,"register-info-enlace"],[1,"error-message"],[4,"ngIf"],[1,"success-message"]],template:function(r,e){r&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),a(4,"\u{1F4DD} Crear Cuenta"),n(),i(5,"p"),a(6,"Reg\xEDstrate para comenzar a gestionar tus finanzas"),n()(),i(7,"form",3),_("ngSubmit",function(){return e.onSubmit()}),i(8,"div",4)(9,"label",5),a(10,"Correo electr\xF3nico"),n(),g(11,"input",6),m(12,N,3,2,"div",7),n(),i(13,"div",4)(14,"label",8),a(15,"Contrase\xF1a"),n(),g(16,"input",9),m(17,G,3,2,"div",7),n(),m(18,j,2,1,"div",7)(19,A,2,1,"div",10),i(20,"button",11),a(21," Registrarse "),n()(),i(22,"div",12)(23,"p"),a(24,"\xBFYa tienes cuenta?"),n(),i(25,"a",13),a(26,"Iniciar Sesi\xF3n"),n()()()()),r&2&&(o(7),l("formGroup",e.registerForm),o(4),u("error",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),o(),l("ngIf",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),o(4),u("error",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),o(),l("ngIf",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),o(),l("ngIf",e.errorMessage),o(),l("ngIf",e.successMessage),o(),l("disabled",e.registerForm.invalid))},dependencies:[C,v,I,y,w,P,S,O,F,x,M],styles:[".register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3f3d3d,#8d57c4);padding:1rem}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:3rem;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:100%;max-width:400px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2563eb;font-size:2rem;margin-bottom:.5rem}.register-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.register-form[_ngcontent-%COMP%]{margin-bottom:2rem}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.4rem;font-weight:600;color:#333}.form-input[_ngcontent-%COMP%]{width:100%;padding:.6rem .8rem;border:1px solid #ccc;border-radius:6px;font-size:1rem;transition:border-color .2s}.form-input[_ngcontent-%COMP%]:focus{border-color:#2563eb;outline:none}.form-input.error[_ngcontent-%COMP%]{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin-top:.25rem;display:block}.success-message[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:1rem;text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:.6rem 1.2rem;font-size:1rem;border-radius:6px;text-align:center;cursor:pointer;transition:background-color .2s;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#1e40af}.btn-secondary[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff;border:none}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#4b5563}.btn-full[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.register-info[_ngcontent-%COMP%]{background:#f8fafc;border-radius:.5rem;padding:1rem;text-align:center;font-size:.75rem;color:#64748b}.register-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}.register-info-enlace[_ngcontent-%COMP%]{color:#2563eb;text-decoration:none}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:2rem 1.5rem;margin:0 1rem}}"]})};export{k as RegistroComponent};
