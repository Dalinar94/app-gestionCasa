import{a as j,b as G,c as U}from"./chunk-R6RK33SS.js";import{B as u,D as v,E as h,F as y,G as n,H as e,L as S,O as E,P as a,Q as l,S as D,U as p,V as w,X as g,Y as I,_ as b,a as _,aa as T,b as P,ba as z,ca as F,da as R,fa as B,ma as k,pa as N,u as i,w as x,x as O}from"./chunk-YYEMXXJX.js";function L(r,o){if(r&1&&(n(0,"div",16)(1,"div",17)(2,"div",18),a(3),e(),n(4,"div",19),a(5),e(),n(6,"div",20),a(7),p(8,"date"),e()(),n(9,"div",21)(10,"span"),a(11),p(12,"currency"),e()()()),r&2){let t=o.$implicit;h("income",t.type==="income")("expense",t.type==="expense"),i(3),l(t.description),i(2),l(t.category),i(2),l(w(8,11,t.date,"dd/MM/yyyy")),i(3),y(t.type==="income"?"text-success":"text-danger"),i(),D(" ",t.type==="income"?"+":"-","",g(12,14,t.amount,"EUR","symbol","1.2-2")," ")}}function A(r,o){if(r&1&&(n(0,"div",14),u(1,L,13,19,"div",15),e()),r&2){let t=S();i(),v("ngForOf",t.recentTransactions())}}function V(r,o){r&1&&(n(0,"div",22)(1,"p"),a(2,"No hay transacciones registradas"),e(),n(3,"a",12),a(4,"Agregar Primera Transacci\xF3n"),e()())}var Y=class r{constructor(o,t){this.ingresoService=o;this.gastoService=t}currentMonth=b(()=>{let o=new Date,t=o.getMonth(),s=o.getFullYear(),c=this.ingresoService.ingresos().filter(d=>{let m=new Date(d.date??d.fecha);return m.getMonth()===t&&m.getFullYear()===s}),f=this.gastoService.gastos().filter(d=>{let m=new Date(d.date??d.fecha);return m.getMonth()===t&&m.getFullYear()===s}),C=c.reduce((d,m)=>d+m.amount,0),M=f.reduce((d,m)=>d+m.amount,0);return{totalIncome:C,totalExpenses:M,balance:C-M}});recentTransactions=b(()=>{let o=this.ingresoService.ingresos(),t=this.gastoService.gastos();return[...o,...t].map(c=>P(_({},c),{date:c.date??new Date(c.fecha)})).sort((c,f)=>new Date(f.date).getTime()-new Date(c.date).getTime()).slice(0,5)});static \u0275fac=function(t){return new(t||r)(x(G),x(U))};static \u0275cmp=O({type:r,selectors:[["app-dashboard"]],decls:44,vars:24,consts:[["noTransactions",""],[1,"dashboard"],[1,"dashboard-header"],[1,"stats-grid"],[1,"stat-card","income"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-card","expense"],[1,"stat-card","balance"],[1,"recent-section"],[1,"section-header"],["routerLink","/transactions",1,"btn","btn-primary"],["class","transactions-list",4,"ngIf","ngIfElse"],[1,"transactions-list"],["class","transaction-item",3,"income","expense",4,"ngFor","ngForOf"],[1,"transaction-item"],[1,"transaction-info"],[1,"transaction-description"],[1,"transaction-category"],[1,"transaction-date"],[1,"transaction-amount"],[1,"no-transactions"]],template:function(t,s){if(t&1&&(n(0,"app-layout")(1,"div",1)(2,"div",2)(3,"h1"),a(4,"Panel de Control"),e(),n(5,"p"),a(6,"Resumen de tus finanzas este mes"),e()(),n(7,"div",3)(8,"div",4)(9,"div",5),a(10,"\u{1F4B0}"),e(),n(11,"div",6)(12,"h3"),a(13,"Ingresos del Mes"),e(),n(14,"p",7),a(15),p(16,"currency"),e()()(),n(17,"div",8)(18,"div",5),a(19,"\u{1F4B8}"),e(),n(20,"div",6)(21,"h3"),a(22,"Gastos del Mes"),e(),n(23,"p",7),a(24),p(25,"currency"),e()()(),n(26,"div",9)(27,"div",5),a(28,"\u{1F4CA}"),e(),n(29,"div",6)(30,"h3"),a(31,"Balance"),e(),n(32,"p",7),a(33),p(34,"currency"),e()()()(),n(35,"div",10)(36,"div",11)(37,"h2"),a(38,"Transacciones Recientes"),e(),n(39,"a",12),a(40,"Ver Todas"),e()(),u(41,A,2,1,"div",13)(42,V,5,0,"ng-template",null,0,I),e()()()),t&2){let c=E(43);i(15),l(g(16,9,s.currentMonth().totalIncome,"EUR","symbol","1.2-2")),i(9),l(g(25,14,s.currentMonth().totalExpenses,"EUR","symbol","1.2-2")),i(2),h("positive",s.currentMonth().balance>=0)("negative",s.currentMonth().balance<0),i(7),l(g(34,19,s.currentMonth().balance,"EUR","symbol","1.2-2")),i(8),v("ngIf",s.recentTransactions().length>0)("ngIfElse",c)}},dependencies:[B,T,z,R,F,N,k,j],styles:[".dashboard[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:#1f2937;margin-bottom:.5rem}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;margin-bottom:3rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:1rem;box-shadow:0 4px 6px -1px #0000001a;display:flex;align-items:center;gap:1rem;transition:transform .2s ease,box-shadow .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 15px -3px #0000001a}.stat-card.income[_ngcontent-%COMP%]{border-left:4px solid #16a34a}.stat-card.expense[_ngcontent-%COMP%]{border-left:4px solid #dc2626}.stat-card.balance.positive[_ngcontent-%COMP%]{border-left:4px solid #16a34a}.stat-card.balance.negative[_ngcontent-%COMP%]{border-left:4px solid #dc2626}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;opacity:.8}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#374151;font-size:.875rem;font-weight:500;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.025em}.stat-value[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;margin:0;color:#1f2937}.recent-section[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:2rem;box-shadow:0 4px 6px -1px #0000001a}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1f2937;margin:0}.transactions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-radius:.5rem;background:#f9fafb;border-left:4px solid transparent;transition:all .2s ease}.transaction-item[_ngcontent-%COMP%]:hover{background:#f3f4f6}.transaction-item.income[_ngcontent-%COMP%]{border-left-color:#16a34a}.transaction-item.expense[_ngcontent-%COMP%]{border-left-color:#dc2626}.transaction-info[_ngcontent-%COMP%]{flex:1}.transaction-description[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;margin-bottom:.25rem}.transaction-category[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin-bottom:.25rem}.transaction-date[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem}.no-transactions[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#6b7280}.no-transactions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.125rem}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.transaction-item[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.transaction-amount[_ngcontent-%COMP%]{text-align:right}}"]})};export{Y as DashboardComponent};
