import{a as S,b as d,c as x,d as M,e as F,g as y,h as E,l as P,m as O}from"./chunk-EIPKDWJL.js";import{B as s,D as m,E as c,G as o,H as t,I as g,K as v,L as p,P as a,R as _,ba as C,fa as b,ma as h,pa as w,qa as I,u as r,w as u,x as f}from"./chunk-YYEMXXJX.js";function N(i,l){i&1&&(o(0,"span"),a(1,"El correo es requerido"),t())}function T(i,l){i&1&&(o(0,"span"),a(1,"Ingresa un correo v\xE1lido"),t())}function D(i,l){if(i&1&&(o(0,"div",13),s(1,N,2,0,"span",14)(2,T,2,0,"span",14),t()),i&2){let e=p();r(),m("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.required),r(),m("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.email)}}function G(i,l){i&1&&(o(0,"span"),a(1,"La contrase\xF1a es requerida"),t())}function k(i,l){i&1&&(o(0,"span"),a(1,"M\xEDnimo 4 caracteres"),t())}function q(i,l){if(i&1&&(o(0,"div",13),s(1,G,2,0,"span",14)(2,k,2,0,"span",14),t()),i&2){let e=p();r(),m("ngIf",e.password==null||e.password.errors==null?null:e.password.errors.required),r(),m("ngIf",e.password==null||e.password.errors==null?null:e.password.errors.minlength)}}function z(i,l){if(i&1&&(o(0,"div",13),a(1),t()),i&2){let e=p();r(),_(" ",e.errorMessage," ")}}var L=class i{constructor(l,e){this.fb=l;this.authService=e;this.loginForm=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required,d.minLength(4)]]})}loginForm;errorMessage="";onSubmit(){if(this.loginForm.valid){let{email:l,password:e}=this.loginForm.value;this.authService.login(l,e).subscribe({next:n=>{this.authService.setSession(l)},error:n=>{this.errorMessage=n.error.message||"Error al iniciar sesi\xF3n"}})}else this.errorMessage="Por favor, completa todos los campos correctamente"}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}static \u0275fac=function(e){return new(e||i)(u(P),u(I))};static \u0275cmp=f({type:i,selectors:[["app-login"]],decls:26,vars:9,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","tu@email.com",1,"form-input"],["class","error-message",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Tu contrase\xF1a",1,"form-input"],["type","submit",1,"btn","btn-primary","btn-full",3,"disabled"],[1,"login-info"],["routerLink","/register",1,"login-info-enlace"],[1,"error-message"],[4,"ngIf"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),a(4,"\u{1F3E0} Mis finanzas"),t(),o(5,"p"),a(6,"Gestiona tus ingresos y gastos de casa!"),t()(),o(7,"form",3),v("ngSubmit",function(){return n.onSubmit()}),o(8,"div",4)(9,"label",5),a(10,"Correo electr\xF3nico"),t(),g(11,"input",6),s(12,D,3,2,"div",7),t(),o(13,"div",4)(14,"label",8),a(15,"Contrase\xF1a"),t(),g(16,"input",9),s(17,q,3,2,"div",7),t(),s(18,z,2,1,"div",7),o(19,"button",10),a(20," Iniciar Sesi\xF3n "),t()(),o(21,"div",11)(22,"p"),a(23,"\xBFNo tienes cuenta?"),t(),o(24,"a",12),a(25,"Crear Cuenta"),t()()()()),e&2&&(r(7),m("formGroup",n.loginForm),r(4),c("error",(n.email==null?null:n.email.invalid)&&(n.email==null?null:n.email.touched)),r(),m("ngIf",(n.email==null?null:n.email.invalid)&&(n.email==null?null:n.email.touched)),r(4),c("error",(n.password==null?null:n.password.invalid)&&(n.password==null?null:n.password.touched)),r(),m("ngIf",(n.password==null?null:n.password.invalid)&&(n.password==null?null:n.password.touched)),r(),m("ngIf",n.errorMessage),r(),m("disabled",n.loginForm.invalid))},dependencies:[b,C,O,F,S,x,M,y,E,w,h],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3f3d3d,#8d57c4);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:3rem;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2563eb;font-size:2rem;margin-bottom:.5rem}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.login-form[_ngcontent-%COMP%]{margin-bottom:2rem}.form-input.error[_ngcontent-%COMP%]{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin-top:.25rem;display:block}.btn-full[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.login-info[_ngcontent-%COMP%]{background:#f8fafc;border-radius:.5rem;padding:1rem;text-align:center;font-size:.75rem;color:#64748b}.login-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}.login-info-enlace[_ngcontent-%COMP%]{color:#2563eb;text-decoration:none}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem;margin:0 1rem}}"]})};export{L as LoginComponent};
